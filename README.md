# 农作物产量预测与可视化分析平台

本项目根据开题报告要求，采用 Spring Boot + Vue3 前后端分离架构，实现农作物产量预测与可视化分析平台的基础骨架，包含需求分析、数据库设计以及前后端初始代码。

## 目录结构

- `docs/requirements.md`：项目需求分析文档。
- `docs/database-design.md`：数据库设计说明。
- `docs/database-schema.sql`：可直接执行的数据库初始化 SQL。
- `demo/`：Spring Boot 后端工程，提供基础模块与 REST API 框架。
- `forecast/`：Vue3 前端工程，包含页面路由与布局雏形。

## 快速开始

### 后端

```bash
cd demo
mvn spring-boot:run
```

项目默认使用内存 H2 数据库，并开放 `http://localhost:8080` 的基础 REST 接口。

> 🔐 **身份认证说明**
>
> - 首次启动时，系统会自动初始化管理员(`admin`)账号，默认密码为 `Admin@123`，并以 BCrypt 方式加密存储在数据库中。
> - 如检测到数据库中的管理员口令与默认值不符（例如历史环境中手工写入了其它密文），应用会在启动时自动将其重置为默认密码并记录日志，便于快速恢复登录。
> - 所有用户的口令在写入数据库前都会通过加密器处理，若检测到历史明文口令会在启动时自动补充加密，确保登录凭据始终以密文形式落库。
> - 可通过注册接口或后台管理功能新增用户，新增账号的用户名、密码同样存放于数据库表 `sys_user` 中。
> - 如果之前初始化的数据库中已经存在未加密的 `admin` 密码，可执行 `docs/migrations/20240509_fix_admin_credentials.sql` 补丁脚本，脚本会自动写入加密口令并补齐管理员角色关联。

### 前端

```bash
cd forecast
npm install
npm run dev
```

Vite 开发服务器默认运行在 `http://localhost:5173`。

## 后续工作指引

- 根据业务需求补充具体的领域逻辑、数据校验与权限控制。
- 将前端页面与后端接口对接，并完善数据可视化与交互体验。
- 完善自动化测试、部署脚本及监控告警等非功能需求。
