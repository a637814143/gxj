# 农作物产量预测与可视化分析平台——需求分析

## 1. 项目背景

为响应智慧农业建设需求，本平台旨在整合农作物基础信息、历史产量、市场价格、气象遥感等多源数据，构建可持续迭代的预测模型，并通过可视化报告辅助农业主管部门与种植主体科学决策。系统采用前后端分离架构：后端基于 Spring Boot 提供领域服务与数据接口，前端使用 Vue3 构建交互式数据分析界面。

## 2. 角色与用户

| 角色 | 权限概述 |
| ---- | -------- |
| 系统管理员 | 维护基础数据、管理用户与角色、配置模型资源 |
| 业务分析员 | 上传数据集、发起预测任务、查看与导出分析报告 |
| 决策查看者 | 浏览仪表盘、查看报告、关注预警信息 |

## 3. 核心业务流程

1. **数据采集与管理**：管理员或分析员上传历史产量、价格、气象等数据文件，系统完成数据入库与版本管理。
2. **模型配置与训练**：根据不同作物/区域，选择或新建预测模型，配置训练参数并触发任务执行，生成预测结果。
3. **预测结果与可视化**：系统汇总预测数据，结合历史对比生成可视化图表，并支持导出分析报告。
4. **报告发布与预警**：将关键指标生成报告并推送至相关人员，结合阈值触发预警提醒。

## 4. 功能需求

### 4.1 基础信息管理
- 作物信息维护：名称、代码、生长周期、备注等。
- 区域信息维护：行政区划、地理特征、土壤/气候标签。
- 数据字典：模型类型、预警等级、数据来源等。

### 4.2 数据资源管理
- 数据集上传：支持 CSV/Excel 文件上传、校验与元数据录入。
- 数据记录管理：历史产量、市场价格、气象指标的查询与分页。
- 数据质量监控：记录数据缺失率、更新时间、责任人。

### 4.3 预测模型与任务
- 模型仓库：维护算法类型（ARIMA、LSTM、Prophet 等）及参数模板。
- 任务管理：选择模型、作物、区域与时间范围，配置特征字段并发起训练/预测任务。
- 结果查看：展示预测值、可信区间、评价指标（MAPE、RMSE 等）。

### 4.4 报告与可视化
- 仪表盘：展示关键 KPI、趋势图、数据概况。
- 报告生成：支持自定义报告模板、插入图表与文字说明、导出 PDF/Excel。
- 分享与预警：报告推送、阈值预警通知、查看历史报告。

### 4.5 权限与审计
- 用户管理：账号、角色、状态、最后登录时间。
- 角色/权限：细粒度接口与菜单控制。
- 操作审计：记录数据变更、模型任务执行与报告发布日志。

## 5. 非功能需求
- **性能**：常用查询接口响应 < 3s；批量数据导入支持 5 万行以内。
- **安全**：接入统一认证、接口鉴权、数据脱敏；重要操作需审计。
- **可用性**：系统具备异常处理与告警机制；支持多环境部署。
- **可维护性**：模块化设计、接口文档自动生成、单元测试覆盖核心服务。

## 6. 里程碑规划

| 里程碑 | 时间 | 目标 |
| ------ | ---- | ---- |
| M1: 需求梳理与原型 | 第1-2周 | 完成需求确认、产品原型与数据库设计 |
| M2: 框架搭建 | 第3-4周 | 完成前后端基础框架、核心实体与接口雏形 |
| M3: 功能迭代 | 第5-8周 | 实现数据管理、预测任务、报告模块核心功能 |
| M4: 联调与测试 | 第9-10周 | 前后端联调、补充自动化测试、性能优化 |
| M5: 验收与部署 | 第11-12周 | 完成用户培训、发布上线、整理运维文档 |
