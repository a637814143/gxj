# 农作物产量预测与可视化分析系统——需求分析

## 1. 项目背景
- 服务对象：云南省农业管理部门、农业企业、合作社、科研机构等，需要统一的平台对主要农作物（稻谷、小麦、玉米、大豆、甘蔗、蔬菜等）历史产量、播种面积、单产、价格等多源数据进行汇聚分析，支撑决策。
- 建设目标：打造一个覆盖“数据管理 → 可视化 → 智能预测 → 决策推荐 → 报告输出”的一体化系统，辅助云南智慧农业和数字乡村建设。

## 2. 用户角色
1. **系统管理员**：负责用户与权限管理、基础配置、安全审计。
2. **数据管理员**：负责数据导入、清洗、版本管理以及数据质量监控。
3. **分析师/科研人员**：进行可视化分析、配置预测模型、生成报告。
4. **决策人员**：浏览高层仪表盘、查看预测结果与推荐方案、导出报告。

## 3. 核心业务场景
1. **基础信息管理**：维护作物、地区、指标字典，支撑数据标准化。
2. **数据资源管理**：导入统计局、农业农村厅等来源的数据集，执行清洗校验、版本管理，支持 Excel/CSV 导入与文件存档。
3. **可视化分析**：按时间、地区、作物维度展示趋势、结构、对比、地图分布等图表；支持条件筛选、图表联动、导出图片。
4. **预测建模**：选择历史时间窗口、目标作物/地区、预测模型（ARIMA、Prophet、XGBoost、LSTM等），配置超参数并执行训练，查看模型评估指标（MAPE、RMSE）。
5. **情景模拟与推荐**：设置价格波动、种植面积调整等情景参数，生成收益测算与种植推荐方案。
6. **报告管理**：将分析结果和图表整合成 PDF/Word/Excel 报告，支持存档、检索、导出与分享。
7. **系统管理**：支持角色权限（RBAC）、操作日志、参数配置、任务调度监控。

## 4. 功能需求清单
| 模块 | 关键功能 |
| --- | --- |
| 用户与权限 | 用户注册/导入、角色管理、权限分配、登录审计 |
| 基础信息 | 作物字典、地区行政区划、指标定义、数据源管理 |
| 数据资源 | 数据集导入、清洗规则配置、质量检测、版本回滚、文件存储 |
| 可视化分析 | 时间序列图、结构对比图、空间地图、指标对比、多图联动、数据导出 |
| 预测模型 | 模型管理、训练任务、指标评估、模型对比、预测结果查询与回溯 |
| 情景模拟 | 收益测算、价格/面积情景配置、推荐方案生成 |
| 报告中心 | 报告模板、报告生成、在线预览、导出与分享、历史归档 |
| 系统配置 | 参数设置、字典管理、任务调度、日志/监控 |

## 5. 非功能性需求
- **性能**：常规查询响应 < 3s；支持至少 10 年 * 16 地州 * 10 作物的历史数据量级。
- **可用性**：系统 7×24 小时运行，提供健康检查与告警；支持断点续传的数据导入。
- **安全性**：HTTPS 部署、RBAC 权限控制、操作日志与异常审计；重要操作需二次确认。
- **可扩展性**：支持新增作物、地区、指标；模型与情景模拟可插拔，数据层支持横向扩展。
- **易用性**：前端基于大屏风格设计，可视化操作直观；支持中英文界面、无障碍配色。

## 6. 系统架构建议
- **前端**：基于 Vue3 + Vite + Element Plus + ECharts，构建模块化 SPA；通过 Axios 调用 RESTful API，Pinia 管理全局状态。
- **后端**：Spring Boot + JPA + Validation 提供 REST API；引入 Springdoc 生成 OpenAPI 文档；封装统一响应格式与异常处理。
- **数据层**：MySQL 作为事务型数据库，后续可结合数据仓库/时序数据库；文件存储可先使用本地/对象存储。
- **预测服务**：在后端预留模型注册与任务调度接口，可与 Python 服务或 Java ML 库集成；任务执行结果写入 `fc_result` 表。
- **部署建议**：前后端分离部署，使用 Nginx 反向代理；引入 CI/CD、容器化、日志与监控（Prometheus + Grafana）。

## 7. 里程碑计划（参考）
1. **环境与调研（2025.06-09）**：技术选型、需求确认、数据收集。
2. **架构设计（2025.09）**：数据库建模、接口设计、原型设计。
3. **核心开发（2025.10-11）**：实现数据管理、可视化、预测模型、报告模块。
4. **联调与优化（2025.12）**：功能完善、性能优化、测试验收、论文撰写。
